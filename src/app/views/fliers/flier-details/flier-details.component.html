<app-loader class="full-size" [condition]="isLoading"></app-loader>

<ng-container *ngIf="!isLoading">
  <div class="card m-b-30">
    <div class="card-header">
      <h5>Informações da Campanha</h5>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-lg-4">
          <label style="font-weight: 600;">Nome da Campanha</label><br>
          <p>{{flier?.name}}</p>
        </div>
        <div class="col-lg-4">
          <label for="status" style="font-weight: 600;">Cliente</label>
          <p>{{clientName}}</p>
        </div>
        <div class="col-lg-4">
          <label for="status" style="font-weight: 600;">Status</label>
          <select name="status" class="form-control" [(ngModel)]="flier.status">
            <option value="IN_PROGRESS">Em andamento</option>
            <option value="PAUSED">Pausado</option>
            <option value="COMPLETED">Finalizado</option>
          </select>
        </div>
      </div>
    </div>
  </div>

  <div class="card m-b-30">
    <div class="card-header">
      <h5>Retirada do Material</h5>
    </div>
    <div class="card-body">
      <div class="row">
        <div class="col-lg-4 m-b-10 centered-container">
          <ng-container *ngIf="!flier.withdrawDate || flier.withdrawDate === ''">
            <button class="btn btn-success" (click)="setHour('retirada')">Iniciar</button>
          </ng-container>

          <ng-container *ngIf="flier.withdrawDate && flier.withdrawDate !== ''">
            <p>{{flier.withdrawDate | date: 'dd/MM/yyyy HH:mm':'BRT'}}</p>
            <small *ngIf="clickedSetHour.retirada"><i style="color: red; cursor: pointer;" class="fa fa-trash" (click)="removeHour('retirada')"> Remover</i></small>
          </ng-container>

        </div>
        <div class="col-lg-4 m-b-10">
          <label for="quantityMaterial">Qtde. Material Retirado</label>
          <input type="text" name="quantityMaterial" class="form-control" [(ngModel)]="flier.quantityFlier">
        </div>
        <div class="col-lg-4 m-b-10">
          <label for="responsible">Responsável pela Entrega</label>
          <input type="text" name="responsible" class="form-control" [(ngModel)]="flier.responsible">
        </div>

        <div class="col-lg-12 m-b-30">
          <label for="observation">Observações</label>
          <textarea class="form-control" name="observation" [(ngModel)]="flier.observation"></textarea>
        </div>
      </div>
    </div>
  </div>

  <div class="card m-b-30">
    <div class="card-header">
      <h5>Início da Distribuição</h5>
    </div>
    <div class="card-body text-center">
      <div class="row">
        <div class="col-lg-12">
          <ng-container *ngIf="!flier.startingDistributionDate || flier.startingDistributionDate === ''">
            <button class="btn btn-success" (click)="setHour('inicio_distribuicao')">Iniciar</button>
          </ng-container>

          <ng-container *ngIf="flier.startingDistributionDate && flier.startingDistributionDate !== ''">
            <p>{{flier.startingDistributionDate | date: 'dd/MM/yyyy HH:mm':'BRT'}}</p>
            <small *ngIf="clickedSetHour.inicio_distribuicao"><i style="color: red; cursor: pointer;" class="fa fa-trash" (click)="removeHour('inicio_distribuicao')"> Remover</i></small>
          </ng-container>
        </div>
      </div>
    </div>
  </div>

  <div class="card m-b-30">
    <div class="card-header">
      <h5>Término da Distribuição</h5>
    </div>
    <div class="card-body text-center">
      <div class="row">
        <div class="col-lg-12">
          <ng-container *ngIf="!flier.endingDistributionDate || flier.endingDistributionDate === ''">
            <button class="btn btn-success" (click)="setHour('termino_distribuicao')">Iniciar</button>
          </ng-container>

          <ng-container *ngIf="flier.endingDistributionDate && flier.endingDistributionDate !== ''">
            <p>{{flier.endingDistributionDate | date: 'dd/MM/yyyy HH:mm':'BRT'}}</p>
            <small *ngIf="clickedSetHour.termino_distribuicao"><i style="color: red; cursor: pointer;" class="fa fa-trash" (click)="removeHour('termino_distribuicao')"> Remover</i></small>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</ng-container>

<div class="col-lg-12" style="margin-top: 100px;">
    <button (click)="updateFlier()" class="pull-right btn btn-primary">Salvar</button>
    <button (click)="cancel()" class="pull-right btn btn-secundary m-r-10">Cancelar</button>
  </div>

<!-- <div class="row" *ngIf="!isLoading"> -->
  <!-- <div class="col-lg-12">
    <h5>Informações da Campanha</h5>
    <hr />
  </div>
  <div class="col-lg-4 m-b-30">
    <label style="font-weight: 600;">Nome da Campanha</label><br>
    <p>{{flier?.name}}</p>
  </div>
  <div class="col-lg-4 m-b-30">
    <label for="status">Cliente</label>
    <p>{{clientName}}</p>
  </div>
  <div class="col-lg-4">
    <label for="status">Status</label>
    <select name="status" class="form-control" [(ngModel)]="flier.status">
      <option value="IN_PROGRESS">Em andamento</option>
      <option value="PAUSED">Pausado</option>
      <option value="COMPLETED">Finalizado</option>
    </select>
  </div> -->


  <!-- <div class="col-lg-12">
    <h5>Retirada do Material</h5>
    <hr />
  </div>

  <div class="col-lg-4 m-b-10">
    <label for="date">Data</label><br>
    <dp-date-picker theme="dp-material" [config]="datePickerConfig" mode="daytime" [(ngModel)]="flier.withdrawDate">
    </dp-date-picker>
  </div>
  <div class="col-lg-4 m-b-10">
    <label for="quantityMaterial">Qtde. Material Retirado</label>
    <input type="text" name="quantityMaterial" class="form-control" [(ngModel)]="flier.quantityFlier">
  </div>
  <div class="col-lg-4 m-b-10">
    <label for="responsible">Responsável pela Entrega</label>
    <input type="text" name="responsible" class="form-control" [(ngModel)]="flier.responsible">
  </div>

  <div class="col-lg-12 m-b-30">
    <label for="observation">Observações</label>
    <textarea class="form-control" name="observation" [(ngModel)]="flier.observation"></textarea>
  </div>

  <div class="col-lg-12">
    <h5>Início da Distribuição</h5>
    <hr />
  </div>

  <div class="col-lg-4 m-b-15">
    <label for="date">Data</label><br>
    <dp-date-picker theme="dp-material" [config]="datePickerConfig" mode="daytime"
      [(ngModel)]="flier.startingDistributionDate"></dp-date-picker>
  </div>


  <div class="col-lg-12">
    <h5>Término da Distribuição</h5>
    <hr />
  </div>

  <div class="col-lg-4 m-b-15">
    <label for="date">Data</label><br>
    <dp-date-picker theme="dp-material" [config]="datePickerConfig" mode="daytime"
      [(ngModel)]="flier.endingDistributionDate"></dp-date-picker>
  </div> -->



  <!-- <div class="col-lg-12" style="margin-top: 100px;">
    <button (click)="updateFlier()" class="pull-right btn btn-primary">Salvar</button>
    <button (click)="cancel()" class="pull-right btn btn-secundary m-r-10">Cancelar</button>
  </div> -->
<!-- </div> -->
